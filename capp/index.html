<!doctype html>
<html>
    <head>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />

        <link rel="apple-touch-icon" href="Resources/icon.png" />
        <link rel="apple-touch-startup-image" href="Resources/default.png" />

        <title>Project Gisedu (GIS:Ed:You)</title>

        <script type="text/javascript">
            OBJJ_AUTO_BOOTSTRAP = false;
            OBJJ_MAIN_FILE = "main.j";

            function getInternetExplorerVersion() {
                var rv = -1; // Return value assumes failure.
                if (navigator.appName == 'Microsoft Internet Explorer') {
                    var ua = navigator.userAgent;
                    var re = new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");
                    if (re.exec(ua) != null)
                        rv = parseFloat(RegExp.$1);
                }
                return rv;
            }

            function testBrowser() {
                var msg = null;
                var ver = getInternetExplorerVersion();

                var winXp = false;

                if(navigator.userAgent.indexOf("Windows NT 5.1") != -1)
                    winXp = true;

                if(ver > -1)
                {
                    if(ver < 6.0 && winXp)
                    {
                        msg = "Your browser is too old to run Project Gisedu and IE9 is unavailable on Windows XP. To use"
                                + " Project Gisedu efficiently will need to use a modern browser like Google Chrome or Mozilla Firefox"
                                + " which you can download at <a href=\"http://www.browsehappy.com/\">Browse Happy</a>.";
                    }
                    else if(ver == 7.0 || ver == 8.0 && winXp)
                    {
                        msg = "Your browser is too slow to run Project Gisedu efficiently. Project Gisedu will still run but it may appear"
                                + " slow or fail to load at all depending on the speed of your computer. To use"
                                + " Project Gisedu efficiently you will need to use a modern browser like Google Chrome or Mozilla Firefox"
                                + " which you can download at <a href=\"http://www.browsehappy.com/\">Browse Happy</a>.";
                    }
                    else if(ver == 7.0 || ver == 8.0)
                    {
                        msg = "Your browser is too slow to run Project Gisedu efficiently. Project Gisedu will still run but it may appear"
                                + " slow or fail to load at all depending on the speed of your computer. To use"
                                + " Project Gisedu efficiently please upgrade to Internet Explorer 9+ or download an alternative modern"
                                + " browser from <a href=\"http://www.browsehappy.com/\">Browse Happy</a>.";
                    }
                }

                if(msg)
                {
                    var messageId = document.getElementById('loadingcontainer');

                    msg += "<p /> <a href=\"#\" onclick=\"load_gisedu()\">Click Here to continue to Project Gisedu anyway.<a>";
                    messageId.innerHTML = msg;
                }
                else
                {
                    load_gisedu();
                }
            }

            function load_gisedu() {
                console.log("Load Gisedu Called");
                var gis_loader = document.getElementById('loadingcontainer');
                gis_loader.innerHTML = "<div id='container'><p id='content'>" +
                       "<img id='loadgraphic' width='16' height='16' src='Resources/spinner.gif' /> " +
                       "Loading Gisedu (GIS:ed:you)...</p></div>";
            
                ObjectiveJ.bootstrap();
            }
        </script>

        <script type="text/javascript" src="Frameworks/Objective-J/Objective-J.js" charset="UTF-8"></script>

        <style type="text/css">
            body{margin:0; padding:0;}
            #container {position: absolute; top:50%; left:50%;}
            #content {width:800px; text-align:center; margin-left: -400px; height:50px; margin-top:-25px; line-height: 50px;}
            #content {font-family: "Helvetica", "Arial", sans-serif; font-size: 18px; color: black; text-shadow: 0px 1px 0px white; }
            #loadgraphic {margin-right: 0.2em; margin-bottom:-2px;}
        </style>

        <!--[if lt IE 7]>
        <STYLE type="text/css">
            #container { position: relative; top: 50%; }
            #content { position: relative;}
        </STYLE>
        <![endif]-->

    </head>

    <body onload="testBrowser()" style="">
        <div id="cappuccino-body">
            <div id="loadingcontainer" style="background-color: #eeeeee; overflow:hidden; width:100%; height:100%; position: absolute; top: 0; left: 0;">
            </div>
        </div>
    </body>

</html>

